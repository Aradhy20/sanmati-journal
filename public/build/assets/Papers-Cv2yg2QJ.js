import{G as c,j as e,A as r}from"./app-M1Vx4Jt4.js";import{A as f}from"./AdminLayout-DSfZO2Yg.js";import{c as u}from"./createLucideIcon-CPFZHfH5.js";import{C as j}from"./check-circle-2-CXQqBAGs.js";import{T as x}from"./trash-2-KdY9va8P.js";import{F as N}from"./file-text-DzrVni51.js";import{E as y}from"./eye-Bob3B1pJ.js";import"./sparkles-BPzftOfT.js";import"./newspaper-DKxdCH0H.js";import"./users-C-IZmVrB.js";import"./message-square-BtN3zE0Z.js";import"./image-BiyihKje.js";/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=u("FilePlus",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"12",x2:"12",y1:"18",y2:"12",key:"1tsf04"}],["line",{x1:"9",x2:"15",y1:"15",y2:"15",key:"110plj"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=u("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);function V({papers:n=[],issues:l=[]}){const a=c({volume:"",number:"",year:new Date().getFullYear(),month_range:"",is_current:!1}),t=c({issue_id:"",title:"",authors:"",category:"Research Paper",file_url:"",is_featured:!1}),p=s=>{s.preventDefault(),a.post("/admin/issues",{onSuccess:()=>a.reset()})},m=s=>{s.preventDefault(),t.post("/admin/papers",{onSuccess:()=>t.reset()})},h=s=>{r.patch(`/admin/issues/${s}/toggle`)},b=s=>{confirm("Are you sure you want to delete this issue? All papers in it might lead to errors.")&&r.delete(`/admin/issues/${s}`)},g=s=>{confirm("Are you sure you want to delete this paper?")&&r.delete(`/admin/papers/${s}`)};return e.jsx(f,{children:e.jsxs("div",{className:"space-y-10",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-serif font-bold text-slate-900 mb-2",children:"Issues & Papers"}),e.jsx("p",{className:"text-slate-500 text-sm",children:"Manage journal volumes, issues, and research paper uploads."})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-10",children:[e.jsxs("div",{className:"lg:col-span-1 space-y-8",children:[e.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-200 shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-6 flex items-center gap-2",children:[e.jsx(w,{className:"text-blue-600 w-5 h-5"})," New Issue"]}),e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("input",{value:a.data.volume,onChange:s=>a.setData("volume",s.target.value),required:!0,placeholder:"Volume",className:"px-4 py-2.5 bg-slate-50 border border-slate-100 rounded-xl text-sm outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("input",{value:a.data.number,onChange:s=>a.setData("number",s.target.value),required:!0,placeholder:"Issue",className:"px-4 py-2.5 bg-slate-50 border border-slate-100 rounded-xl text-sm outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsx("input",{value:a.data.year,onChange:s=>a.setData("year",s.target.value),required:!0,type:"number",placeholder:"Year",className:"w-full px-4 py-2.5 bg-slate-50 border border-slate-100 rounded-xl text-sm outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("input",{value:a.data.month_range,onChange:s=>a.setData("month_range",s.target.value),placeholder:"Months (e.g., Jan-Mar)",className:"w-full px-4 py-2.5 bg-slate-50 border border-slate-100 rounded-xl text-sm outline-none focus:ring-2 focus:ring-blue-500"}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer pt-2",children:[e.jsx("input",{checked:a.data.is_current,onChange:s=>a.setData("is_current",s.target.checked),type:"checkbox",className:"w-4 h-4 rounded text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-xs font-bold text-slate-600 uppercase tracking-widest",children:"Mark as Current Issue"})]}),e.jsx("button",{disabled:a.processing,type:"submit",className:"w-full bg-blue-900 text-white py-3 rounded-xl font-bold hover:bg-blue-800 transition-all text-sm shadow-lg shadow-blue-900/10 disabled:opacity-50",children:"Create New Issue"})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-200 shadow-sm overflow-hidden",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-6",children:"Existing Issues"}),e.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar",children:l.length===0?e.jsx("p",{className:"text-center text-slate-400 py-4 text-sm italic",children:"No issues created yet."}):l.map(s=>e.jsxs("div",{className:`p-4 rounded-2xl border transition-all flex justify-between items-center group ${s.is_current?"bg-blue-50 border-blue-100":"bg-slate-50 border-slate-100 hover:border-slate-200"}`,children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-bold text-slate-900 text-sm",children:["Vol. ",s.volume,", No. ",s.number]}),e.jsxs("p",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-widest",children:[s.month_range," ",s.year]})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>h(s.id),className:`p-2 rounded-lg transition-all ${s.is_current?"text-blue-600":"text-slate-400 hover:text-blue-600"}`,title:"Set as Current",children:e.jsx(j,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>b(s.id),className:"p-2 text-slate-400 hover:text-rose-600 rounded-lg transition-all",title:"Delete Issue",children:e.jsx(x,{className:"w-4 h-4"})})]})]},s.id))})]})]}),e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-slate-200 shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-6 flex items-center gap-2",children:[e.jsx(v,{className:"text-emerald-600 w-5 h-5"})," Upload New Research Paper"]}),e.jsxs("form",{onSubmit:m,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-1",children:"Select Issue"}),e.jsxs("select",{value:t.data.issue_id,onChange:s=>t.setData("issue_id",s.target.value),required:!0,className:"w-full px-5 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none transition-all appearance-none text-sm",children:[e.jsx("option",{value:"",children:"Choose an issue..."}),l.map(s=>e.jsxs("option",{value:s.id,children:["Vol. ",s.volume,", No. ",s.number," (",s.year,")"]},s.id))]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-1",children:"Paper Category"}),e.jsxs("select",{value:t.data.category,onChange:s=>t.setData("category",s.target.value),required:!0,className:"w-full px-5 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none transition-all appearance-none text-sm",children:[e.jsx("option",{value:"Research Paper",children:"Research Paper"}),e.jsx("option",{value:"Review Paper",children:"Review Paper"}),e.jsx("option",{value:"Case Study",children:"Case Study"}),e.jsx("option",{value:"Short Communication",children:"Short Communication"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-1",children:"Paper Title"}),e.jsx("textarea",{value:t.data.title,onChange:s=>t.setData("title",s.target.value),required:!0,rows:2,placeholder:"Full title of the research paper",className:"w-full px-5 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none transition-all text-sm resize-none"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-1",children:"Authors"}),e.jsx("input",{value:t.data.authors,onChange:s=>t.setData("authors",s.target.value),required:!0,placeholder:"e.g., Dr. Jane Smith, Prof. Robert Brown",className:"w-full px-5 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none transition-all text-sm"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-1",children:"PDF File"}),e.jsx("input",{type:"file",onChange:s=>t.setData("file_url",s.target.files[0]),required:!0,accept:".pdf,.doc,.docx",className:"w-full px-5 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none transition-all text-sm file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.data.is_featured,onChange:s=>t.setData("is_featured",s.target.checked),className:"w-4 h-4 rounded text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Feature this paper on Homepage"})]})})]}),e.jsx("button",{disabled:t.processing,type:"submit",className:"w-full bg-emerald-600 text-white px-8 py-4 rounded-xl font-bold hover:bg-emerald-700 transition-all shadow-lg shadow-emerald-600/10 disabled:opacity-50",children:"Upload & Index Paper"})]})]}),e.jsxs("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden",children:[e.jsx("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center",children:e.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Recent Paper Uploads"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-slate-50/50",children:e.jsxs("tr",{className:"border-b border-slate-100",children:[e.jsx("th",{className:"px-8 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Issue"}),e.jsx("th",{className:"px-8 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Paper Details"}),e.jsx("th",{className:"px-8 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Category"}),e.jsx("th",{className:"px-8 py-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:n.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-8 py-20 text-center",children:e.jsxs("div",{className:"flex flex-col items-center justify-center text-slate-400",children:[e.jsx(N,{className:"w-12 h-12 mb-4 opacity-10"}),e.jsx("p",{className:"font-bold italic",children:"No papers uploaded yet."})]})})}):n.map(s=>{var i,o,d;return e.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[e.jsxs("td",{className:"px-8 py-6 whitespace-nowrap",children:[e.jsxs("p",{className:"text-xs font-bold text-slate-900",children:["Vol. ",(i=s.issue)==null?void 0:i.volume,", No. ",(o=s.issue)==null?void 0:o.number]}),e.jsx("p",{className:"text-[10px] font-bold text-slate-400",children:(d=s.issue)==null?void 0:d.year})]}),e.jsxs("td",{className:"px-8 py-6 max-w-md",children:[e.jsx("p",{className:"font-bold text-slate-800 text-sm mb-1 leading-snug line-clamp-2",children:s.title}),e.jsx("p",{className:"text-xs text-slate-500 line-clamp-1",children:s.authors})]}),e.jsx("td",{className:"px-8 py-6",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-lg bg-emerald-50 text-emerald-700 text-[10px] font-black uppercase tracking-tight border border-emerald-100 italic",children:s.category})}),e.jsx("td",{className:"px-8 py-6 text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("a",{href:`/storage/${s.file_url}`,target:"_blank",className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-all",title:"View PDF",children:e.jsx(y,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>g(s.id),className:"p-2 text-rose-600 hover:bg-rose-50 rounded-lg transition-all",title:"Delete Paper",children:e.jsx(x,{className:"w-4 h-4"})})]})})]},s.id)})})]})})]})]})]})]})})}export{V as default};
