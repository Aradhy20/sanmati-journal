import{j as e,A as n}from"./app-BejWj7DV.js";import{A as o}from"./AdminLayout-CUTH4wUH.js";import{S as x}from"./search-DGUm8iPp.js";import{M as m}from"./mail-OgD2En-l.js";import{C as c}from"./check-circle-2-tkLkVkyX.js";import{c as h}from"./createLucideIcon-6L1fpv-q.js";import{C as p,a as b}from"./chevron-right-_xHH-WZ8.js";import{C as i}from"./clock-B8u52WRi.js";import"./sparkles-C7HGaxUc.js";import"./newspaper-Djra1DMa.js";import"./file-text-DizY3dsF.js";import"./users-D-QPQwPG.js";import"./message-square-BbDE9pAF.js";import"./image-CyCm_sTH.js";/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d=h("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);function R({enquiries:t=[]}){const l=(s,a)=>{n.patch(`/admin/enquiries/${s}/status`,{status:a})};return e.jsx(o,{children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-serif font-bold text-slate-900 mb-2",children:"Message Center"}),e.jsx("p",{className:"text-slate-500 text-sm",children:"Manage and respond to all editorial enquiries."})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(x,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"Find a message...",className:"pl-11 pr-6 py-2.5 bg-white border border-slate-200 rounded-xl w-64 focus:ring-2 focus:ring-blue-500 focus:outline-none transition-all shadow-sm text-sm"})]})})]}),e.jsxs("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50/50 border-b border-slate-100",children:[e.jsx("th",{className:"px-8 py-5 text-xs font-black text-slate-400 uppercase tracking-widest",children:"Sender"}),e.jsx("th",{className:"px-8 py-5 text-xs font-black text-slate-400 uppercase tracking-widest",children:"Subject & Message"}),e.jsx("th",{className:"px-8 py-5 text-xs font-black text-slate-400 uppercase tracking-widest",children:"Status"}),e.jsx("th",{className:"px-8 py-5 text-xs font-black text-slate-400 uppercase tracking-widest",children:"Received Date"}),e.jsx("th",{className:"px-8 py-5 text-xs font-black text-slate-400 uppercase tracking-widest text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:t.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"px-8 py-20 text-center",children:e.jsxs("div",{className:"flex flex-col items-center justify-center text-slate-400",children:[e.jsx(m,{className:"w-12 h-12 mb-4 opacity-10"}),e.jsx("p",{className:"font-bold italic",children:"No enquiries found in the database."})]})})}):t.map(s=>{var a,r;return e.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"w-10 h-10 rounded-full bg-blue-50 flex items-center justify-center text-blue-600 font-bold border border-blue-100",children:[(a=s.first_name)==null?void 0:a[0],(r=s.last_name)==null?void 0:r[0]]}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-bold text-slate-900",children:[s.first_name," ",s.last_name]}),e.jsx("p",{className:"text-xs text-slate-500 lowercase",children:s.email})]})]})}),e.jsxs("td",{className:"px-8 py-6 max-w-md",children:[e.jsx("p",{className:"font-bold text-slate-800 mb-1 truncate",children:s.subject}),e.jsx("p",{className:"text-sm text-slate-600 line-clamp-2 leading-relaxed",children:s.message})]}),e.jsx("td",{className:"px-8 py-6 text-sm",children:e.jsx(j,{status:s.status})}),e.jsx("td",{className:"px-8 py-6 text-sm text-slate-500 font-medium",children:new Date(s.created_at).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})}),e.jsx("td",{className:"px-8 py-6 text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[s.status==="new"&&e.jsx("button",{onClick:()=>l(s.id,"replied"),className:"p-2.5 text-emerald-600 hover:bg-emerald-50 rounded-xl transition-all",title:"Mark as Replied",children:e.jsx(c,{className:"w-5 h-5"})}),s.status!=="archived"&&e.jsx("button",{onClick:()=>l(s.id,"archived"),className:"p-2.5 text-slate-400 hover:bg-slate-100 hover:text-slate-900 rounded-xl transition-all",title:"Archive Message",children:e.jsx(d,{className:"w-5 h-5"})})]})})]},s.id)})})]})}),e.jsxs("div",{className:"px-8 py-5 bg-slate-50/50 flex justify-between items-center border-t border-slate-100",children:[e.jsxs("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:["Showing ",t.length," results"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"p-2 rounded-lg border border-slate-200 text-slate-400 hover:bg-white transition-all disabled:opacity-50",disabled:!0,children:e.jsx(p,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 rounded-lg border border-slate-200 text-slate-400 hover:bg-white transition-all disabled:opacity-50",disabled:!0,children:e.jsx(b,{className:"w-4 h-4"})})]})]})]})]})})}function j({status:t}){const l={new:"bg-blue-50 text-blue-700 border-blue-100",replied:"bg-emerald-50 text-emerald-700 border-emerald-100",archived:"bg-slate-50 text-slate-500 border-slate-200"},a={new:i,replied:c,archived:d}[t]||i;return e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-black uppercase tracking-tight border ${l[t]||l.new}`,children:[e.jsx(a,{className:"w-3.5 h-3.5"}),t]})}export{R as default};
